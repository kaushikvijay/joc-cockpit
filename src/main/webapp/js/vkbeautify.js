!function(){function e(e){var s="    ";if(isNaN(parseInt(e)))s=e;else switch(e){case 1:s=" ";break;case 2:s="  ";break;case 3:s="   ";break;case 4:s="    ";break;case 5:s="     ";break;case 6:s="      ";break;case 7:s="       ";break;case 8:s="        ";break;case 9:s="         ";break;case 10:s="          ";break;case 11:s="           ";break;case 12:s="            "}var r=["\n"];for(ix=0;ix<100;ix++)r.push(r[ix]+s);return r}function s(){this.step="\t",this.shift=e(this.step)}s.prototype.xml=function(s,r){var a=s.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),c=a.length,n=!1,t=0,l="",h=0,i=r?e(r):this.shift;for(h=0;h<c;h++)a[h].search(/<!/)>-1?(l+=i[t]+a[h],n=!0,(a[h].search(/-->/)>-1||a[h].search(/\]>/)>-1||a[h].search(/!DOCTYPE/)>-1)&&(n=!1)):a[h].search(/-->/)>-1||a[h].search(/\]>/)>-1?(l+=a[h],n=!1):/^<\w/.exec(a[h-1])&&/^<\/\w/.exec(a[h])&&/^<[\w:\-\.\,]+/.exec(a[h-1])==/^<\/[\w:\-\.\,]+/.exec(a[h])[0].replace("/","")?(l+=a[h],n||t--):a[h].search(/<\w/)>-1&&-1==a[h].search(/<\//)&&-1==a[h].search(/\/>/)?l=l+=n?a[h]:i[t++]+a[h]:a[h].search(/<\w/)>-1&&a[h].search(/<\//)>-1?l=l+=n?a[h]:i[t]+a[h]:a[h].search(/<\//)>-1?l=l+=n?a[h]:i[--t]+a[h]:a[h].search(/\/>/)>-1?l=l+=n?a[h]:i[t]+a[h]:a[h].search(/<\?/)>-1?l+=i[t]+a[h]:a[h].search(/xmlns\:/)>-1||a[h].search(/xmlns\=/)>-1?l+=i[t]+a[h]:l+=a[h];let x,p=("\n"==l[0]?l.slice(1):l).split("\n"),g=!1;for(let e=0;e<p.length;e++)if(/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.test(p[e]))g=!0,/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.exec(p[e])[1]?(console.log("if",/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.exec(p[e])),g=!1,x=x+"\n"+p[e]):x+=p[e].replace(/^[\s\uFEFF\xA0]+/g,"");else{let s=!1;e>0&&/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.test(p[e-1])&&/]]>/g.test(p[e-1])&&(x+=p[e].replace(/^[\s\uFEFF\xA0]+/g,""),s=!0),s||(x=x?x+"\n"+p[e]:p[e])}return x},s.prototype.xmlmin=function(e,s){return(s?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},window.vkbeautify=new s}();
