angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@"},link:function(t,n,r){var i="flexBasis"in document.documentElement.style?"flexBasis":"webkitFlexBasis"in document.documentElement.style?"webkitFlexBasis":"msFlexPreferredSize"in document.documentElement.style?"msFlexPreferredSize":"flexBasis";t.$watch("rWidth",function(e){n[0].style[t.rFlex?i:"width"]=t.rWidth+"px"}),t.$watch("rHeight",function(e){n[0].style[t.rFlex?i:"height"]=t.rHeight+"px"}),n.addClass("resizable");var s,a,o,l,c,u=window.getComputedStyle(n[0],null),d=t.rDirections,h=t.rCenteredX?2:1,m=t.rCenteredY?2:1,p=t.rGrabber?t.rGrabber:"<span></span>",g={},f=function(e){g.width=!1,g.height=!1,"x"===c?g.width=parseInt(n[0].style[t.rFlex?i:"width"]):g.height=parseInt(n[0].style[t.rFlex?i:"height"]),g.id=n[0].id,g.evt=e},x=function(e){return e.touches?e.touches[0].clientX:e.clientX},v=function(e){return e.touches?e.touches[0].clientY:e.clientY},b=function(r){var u,d="x"===c?o-x(r):o-v(r);switch(l){case"top":u=t.rFlex?i:"height",n[0].style[u]=a+d*m+"px";break;case"bottom":u=t.rFlex?i:"height",n[0].style[u]=a-d*m+"px";break;case"right":u=t.rFlex?i:"width",n[0].style[u]=s-d*h+"px";break;case"left":u=t.rFlex?i:"width",n[0].style[u]=s+d*h+"px"}if($("#leftPanel")&&$("#leftPanel").width()&&($("#rightPanel1").css("margin-left",$("#leftPanel").width()+16+"px"),f(r),e(function(){t.$emit("angular-resizable.resizing",g)})),$(".sidebar")){let n=$(".sidebar").width();n>0&&($(".sidebar-close").css("right",n+"px"),$(".graph-container").css("margin-right",n+"px"),$("#toolbar").css("margin-right",n+"px"),$("#outlineContainer").css("right",n+9+"px"),$(".scrolltop-btn").css("right",n+40+"px"),$(".scrollBottom-btn").css("right",n+40+"px"),f(r),e(function(){t.$emit("angular-resizable.resizing",g)}))}},w=function(e){f(),t.$emit("angular-resizable.resizeEnd",g),t.$apply(),document.removeEventListener("mouseup",w,!1),document.removeEventListener("mousemove",b,!1),document.removeEventListener("touchend",w,!1),document.removeEventListener("touchmove",b,!1),n.removeClass("no-transition")},y=function(e,r){o="x"===(c="left"===(l=r)||"right"===l?"x":"y")?x(e):v(e),s=parseInt(u.getPropertyValue("width")),a=parseInt(u.getPropertyValue("height")),n.addClass("no-transition"),document.addEventListener("mouseup",w,!1),document.addEventListener("mousemove",b,!1),document.addEventListener("touchend",w,!1),document.addEventListener("touchmove",b,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,f(e),t.$emit("angular-resizable.resizeStart",g),t.$apply()};d.forEach(function(e){var r=document.createElement("div");r.setAttribute("class","rg-"+e),r.innerHTML=p,n[0].appendChild(r),r.ondragstart=function(){return!1};var i=function(n){"true"===t.rDisabled||1!==n.which&&!n.touches||y(n,e)};r.addEventListener("mousedown",i,!1),r.addEventListener("touchstart",i,!1)}),setTimeout(function(){$("#leftPanel")&&$("#leftPanel").width()&&$("#rightPanel1").css("margin-left",$("#leftPanel").width()+16+"px")},5)}}});
