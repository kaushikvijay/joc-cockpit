!function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(a,o,r,s){var i=s.gantt.api;if(a.options&&"object"==typeof a.options.bounds)for(var l in a.options.bounds)a[l]=a.options[l];void 0===a.enabled&&(a.enabled=!0),i.directives.on.new(a,function(e,o,s){if("ganttTask"===e){var i=o.$new();i.pluginScope=a;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var d=n[0].createElement("gantt-task-bounds");void 0!==r.templateUrl&&angular.element(d).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(d).attr("data-template",r.template),angular.element(l).append(d),s.append(t(l)(i))}}),i.tasks.on.clean(a,function(t){void 0===t.est||e.isMoment(t.est)||(t.est=e(t.est)),void 0===t.lct||e.isMoment(t.lct)||(t.lct=e(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.dependencies",["gantt","gantt.dependencies.templates"]).directive("ganttDependencies",["$timeout","$document","ganttDebounce","GanttDependenciesManager","GanttDependenciesChecker",function(e,t,n,a,o){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?",conflictChecker:"=?"},link:function(e,t,r,s){var i=s.gantt.api;if(e.options&&"object"==typeof e.options.dependencies)for(var l in e.options.dependencies)e[l]=e.options[l];void 0===e.enabled&&(e.enabled=!0),void 0===e.readOnly&&(e.readOnly=!1),void 0===e.jsPlumbDefaults&&(e.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===e.endpoints&&(e.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}}]]}]),void 0===e.fallbackEndpoints&&(e.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}}]]}]),void 0===e.conflictChecker&&(e.conflictChecker=!1);var d=new a(s.gantt,e,i),c=new o(d,e,i);e.$watchGroup(["conflictChecker","enabled"],function(t,n){if(t!==n){for(var a=s.gantt.rowsManager.rows,o=[],r=0;r<a.length;r++)o.push.apply(o,a[r].tasks);e.conflictChecker&&e.enabled?c.refresh(o):c.clear(o)}}),i.directives.on.new(e,function(e,t,n){"ganttBody"===e&&d.plumb.setContainer(n)}),i.tasks.on.add(e,function(e){d.addDependenciesFromTask(e)}),i.tasks.on.remove(e,function(e){d.removeDependenciesFromTask(e)}),i.tasks.on.displayed(e,n(function(t){d.setTasks(t),d.refresh(),e.conflictChecker&&e.enabled&&c.refresh(t)})),i.rows.on.displayed(e,function(){d.refresh()}),i.tasks.on.viewChange(e,function(t){t.$element&&d.plumb.revalidate(t.$element[0]),e.conflictChecker&&e.enabled&&c.refresh([t])}),i.tasks.on.viewRowChange(e,function(t){d.setTask(t),e.conflictChecker&&e.enabled&&c.refresh([t])}),i.dependencies.on.add(e,function(t){e.conflictChecker&&e.enabled&&c.refresh([t.getFromTask(),t.getToTask()])}),i.dependencies.on.change(e,function(t){e.conflictChecker&&e.enabled&&c.refresh([t.getFromTask(),t.getToTask()])}),i.dependencies.on.remove(e,function(t){e.conflictChecker&&e.enabled&&c.refresh([t.getFromTask(),t.getToTask()])})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(e,t,n,a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskFactory:"=?"},link:function(o,r,s,i){var l=i.gantt.api;void 0===o.enabled&&(o.enabled=!0),void 0===o.moveThreshold&&(o.moveThreshold=0),void 0===o.taskFactory&&(o.taskFactory=function(){return{}}),l.registerEvent("tasks","draw"),l.registerEvent("tasks","drawBegin"),l.registerEvent("tasks","drawEnd");l.directives.on.new(o,function(r,s,i){if("ganttRow"===r){var d=function(e){var t,n=l.core.getDateByPosition(e,!0),r=a(n),i=(t=s.row).model.drawTask&&angular.isFunction(t.model.drawTask.taskFactory)?t.model.drawTask.taskFactory():o.taskFactory();i.from=n,i.to=r;var d=s.row.addTask(i);return d.isResizing=!0,d.updatePosAndSize(),s.row.updateVisibleTasks(),s.row.$scope.$digest(),d},c=function(t){var n=function(){s.row.rowsManager.gantt.api.tasks.raise.draw(t)};s.row.rowsManager.gantt.api.tasks.raise.drawBegin(t),e.on("mousemove",n),e.one("mouseup",function(){s.row.rowsManager.gantt.api.tasks.raise.drawEnd(t),e.off("mousemove",n)})},g=function(a){var r=a.target?a.target:a.srcElement,l=s.row.model.drawTask;("boolean"==typeof l||angular.isFunction(l))&&(l={enabled:l});var g,u,p=n.firstProperty([l],"enabled",o.enabled);if((angular.isFunction(p)?p(a,s.row):p)&&r.className.indexOf("gantt-row")>-1){var m=t.getOffset(a).x;if(0===o.moveThreshold){var f=d(m);c(f)}else g=m,u=function(e){var n=t.getOffset(e).x;if(Math.abs(g-n)>=o.moveThreshold){i.off("mousemove",u);var a=d(g);c(a)}},i.on("mousemove",u),e.one("mouseup",function(){i.off("mousemove",u)})}};i.on("mousedown",g),s.drawTaskHandler=g}}),l.directives.on.destroy(o,function(e,t,n){"ganttRow"===e&&(n.off("mousedown",t.drawTaskHandler),delete t.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(e,t,n,a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(e,o,r,s){function i(){e.hierarchy.refresh(s.gantt.rowsManager.filteredRows)}var l=s.gantt.api;if(e.options&&"object"==typeof e.options.sortable)for(var d in e.options.sortable)e[d]=e.options[d];void 0===e.enabled&&(e.enabled=!0),void 0===e.display&&(e.display="group"),e.hierarchy=new t,s.gantt.api.registerMethod("groups","refresh",i,this),s.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){i()}),l.directives.on.new(e,function(t,o,s){if("ganttRow"===t){var i=o.$new();i.pluginScope=e;var l=a[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var d=a[0].createElement("gantt-task-group");void 0!==r.templateUrl&&angular.element(d).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(d).attr("data-template",r.template),angular.element(l).append(d),s.append(n(l)(i))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(e,t,n,a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(e,o,r,s){var i=s.gantt.api;if(a.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),e.options&&"object"==typeof e.options.sortable)for(var l in e.options.sortable)e[l]=e.options[l];void 0===e.enabled&&(e.enabled=!0),void 0===e.header&&(e.header="Name"),i.directives.on.new(e,function(a,o,r){if("ganttSideContent"===a){var s=o.$new();s.pluginScope=e;var i=n[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("side-element");var l=n[0].createElement("gantt-side-content-labels");angular.element(i).append(l),r.append(t(i)(s))}}),i.registerMethod("labels","fitSideWidth",function(){for(var e=s.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),t=0,n=0;n<e.length;n++){var a=e[n].children[0].offsetWidth;t=Math.max(t,a)}t>=0&&i.side.setWidth(t)},this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(e,t,n,a,o,r,s,i,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(d,c,g,u){var p=u.gantt.api;if(d.options&&"object"==typeof d.options.movable)for(var m in d.options.movable)d[m]=d.options[m];a.initialize(d),p.registerEvent("tasks","move"),p.registerEvent("tasks","moveBegin"),p.registerEvent("tasks","moveEnd"),p.registerEvent("tasks","resize"),p.registerEvent("tasks","resizeBegin"),p.registerEvent("tasks","resizeEnd"),p.registerEvent("tasks","change");var f,v,h="ontouchstart"in s||s.DocumentTouch&&i[0]instanceof s.DocumentTouch,k="touchstart mousedown";p.directives.on.new(d,function(a,c,g){if("ganttTask"===a){var p,m=angular.element(s),b=c.row.rowsManager.gantt.body.$element,w=c.row.rowsManager.gantt.scroll.$element,y=!1,$=!1,C=c.task.getForegroundElement(),T=c.task.getContentElement(),E=function(n){n.preventDefault(),h&&(n=t.getTouch(n));var a=c.task.model.movable,r=c.task.row.model.movable;("boolean"==typeof a||angular.isFunction(a))&&(a={enabled:a}),("boolean"==typeof r||angular.isFunction(r))&&(r={enabled:r});var s=o.firstProperty([a,r],"enabled",d.enabled);if(angular.isFunction(s)?s(n,c.task):s){var i=t.getOffsetForElement(C[0],n).x,l=F(i);if(""!==l&&1===e.getButton(n)){var g=t.getOffsetForElement(b[0],n).x;B(l,g)}c.$digest()}};C.on(k,E),T.on(k,E);var M=function(e){var n=c.task.model.movable,a=c.task.row.model.movable;("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n}),("boolean"==typeof a||angular.isFunction(a))&&(a={enabled:a});var r=o.firstProperty([n,a],"enabled",d.enabled);if((angular.isFunction(r)?r(e,c.task):r)&&!c.task.isMoving){var s=t.getOffsetForElement(C[0],e).x,i=F(s);""!==i&&"M"!==i?(C.css("cursor",H(i)),T.css("cursor",H(i))):(C.css("cursor",""),T.css("cursor",""))}};C.on("mousemove",M),T.on("mousemove",M);var S=function(e){c.task.isMoving&&!c.destroyed&&(R(),D(e),x(e))},D=function(e){var n=y,a=t.getOffsetForElement(b[0],e).x;c.task.mouseOffsetX=a;var s=c.task.row.rowsManager.gantt.options.value("taskOutOfRange"),l=c.task.model.movable,g=c.task.row.model.movable;if(("boolean"==typeof l||angular.isFunction(l))&&(l={enabled:l}),("boolean"==typeof g||angular.isFunction(g))&&(g={enabled:g}),"M"===c.task.moveMode){if(o.firstProperty([l,g],"allowRowSwitching",d.allowRowSwitching)){var p=w[0].getBoundingClientRect(),m=p.left+p.width/2,v=angular.element(i[0].querySelectorAll(".gantt-body"));v.css("pointer-events","auto");var h=r.findElementFromPoint(m,e.clientY,function(e){return angular.element(e).hasClass("gantt-row")});v.css("pointer-events","");for(var k,C=u.gantt.rowsManager.rows,T=0,E=C.length;E>T;T++)if(h===C[T].$element[0]){k=C[T];break}var M=c.task.row;void 0!==k&&M!==k&&(k.moveTaskToRow(c.task,!0),y=!0)}o.firstProperty([l,g],"allowMoving",d.allowMoving)&&(a-=f,"truncate"!==s&&(0>a?a=0:a+c.task.width>=c.gantt.width&&(a=c.gantt.width-c.task.width)),c.task.moveTo(a,!0),c.$digest(),y&&c.row.rowsManager.gantt.api.tasks.raise.move(c.task),y=!0)}else"E"===c.task.moveMode?(a<=c.task.left&&(a=c.task.left,c.task.moveMode="W",G(H(c.task.moveMode))),"truncate"!==s&&a>=c.gantt.width&&(a=c.gantt.width),c.task.setTo(a,!0),c.$digest(),y&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),y=!0):(a>c.task.left+c.task.width&&(a=c.task.left+c.task.width,c.task.moveMode="E",G(H(c.task.moveMode))),"truncate"!==s&&0>a&&(a=0),c.task.setFrom(a,!0),c.$digest(),y&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),y=!0);if(!n&&y&&!$){var S=c.task.getBackgroundElement();"M"===c.task.moveMode?(S.addClass("gantt-task-moving"),c.row.rowsManager.gantt.api.tasks.raise.moveBegin(c.task)):(S.addClass("gantt-task-resizing"),c.row.rowsManager.gantt.api.tasks.raise.resizeBegin(c.task))}},x=function(e){var n=t.getOffsetForElement(b[0],e),a=w[0].scrollLeft,o=w[0].offsetWidth,r=w[0].scrollWidth,s=a+o,i=!1;n.x<v?a>0&&n.x<=a+5&&(n.x-=15,i=!0,c.row.rowsManager.gantt.api.scroll.left(15)):r>s&&n.x>=s-5&&(n.x+=15,i=!0,c.row.rowsManager.gantt.api.scroll.right(15)),i&&(p=l(function(){S(e)},100,!0))},R=function(){void 0!==p&&(l.cancel(p),p=void 0)},F=function(e){var t=0,n=c.task.model.movable,a=c.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof a&&(a={enabled:a});var r=o.firstProperty([n,a],"allowResizing",d.allowResizing),s=o.firstProperty([n,a],"allowRowSwitching",d.allowRowSwitching),i=o.firstProperty([n,a],"allowMoving",d.allowMoving);return r&&(t=C[0].offsetWidth<15?3:5),r&&e>C[0].offsetWidth-t?"E":r&&t>e?"W":(i||s)&&e>=t&&e<=C[0].offsetWidth-t?"M":""},H=function(e){switch(e){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},G=function(e){g.css("cursor",e),angular.element(i[0].body).css({"-moz-user-select":""===e?"":"-moz-none","-webkit-user-select":""===e?"":"none","-ms-user-select":""===e?"":"none","user-select":""===e?"":"none",cursor:e})},B=function(e,a){void 0===c.task.originalModel&&(c.task.originalRow=c.task.row,c.task.originalModel=c.task.model,c.task.model=angular.copy(c.task.originalModel)),$||(v=a,f=a-c.task.modelLeft),y=!1,c.task.moveMode=e,c.task.isMoving=!0,c.task.active=!0;var o=n(c,m,"touchmove mousemove",function(e){e.stopImmediatePropagation(),h&&(e=t.getTouch(e)),S(e)});o.bind(),n(c,m,"touchend mouseup",function(e){h&&(e=t.getTouch(e)),o.unbind(),P(e),c.$digest()}).bindOnce(),G(H(e))},P=function(){var e=c.task.getBackgroundElement();if(e.removeClass("gantt-task-moving"),e.removeClass("gantt-task-resizing"),void 0!==c.task.originalModel){if(c.task.originalModel.from=c.task.model.from,c.task.originalModel.to=c.task.model.to,c.task.originalModel.lct=c.task.model.lct,c.task.originalModel.est=c.task.model.est,c.task.model=c.task.originalModel,c.task.row.model.id!==c.task.originalRow.model.id){var t=c.task.row;t.removeTask(c.task.model.id,!1,!0),c.task.row=c.task.originalRow,t.moveTaskToRow(c.task,!1)}delete c.task.originalModel,delete c.task.originalRow,c.$apply()}$=!1,c.task.isMoving=!1,c.task.active=!1,R(),G(""),!0===y&&("M"===c.task.moveMode?c.row.rowsManager.gantt.api.tasks.raise.moveEnd(c.task):c.row.rowsManager.gantt.api.tasks.raise.resizeEnd(c.task),y=!1,c.task.row.sortTasks(),c.row.rowsManager.gantt.api.tasks.raise.change(c.task)),c.task.moveMode=void 0};c.$on("$destroy",function(){c.destroyed=!0,R()}),c.task.isResizing?($=!0,B("E",c.task.mouseOffsetX),delete c.task.isResizing):c.task.isMoving&&($=!0,B("M",c.task.mouseOffsetX))}})}}}])}(),function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment","$timeout",function(e,t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(n,a,o,r){function s(t){var n,a,o,r=((n=t).model.from.isBefore(n.model.to)?(a=n.model.from,o=n.model.to):(a=n.model.to,o=n.model.from),[a,o]);return e().range(r[0],r[1])}function i(e,t){t.model.id in e||!t.$element||(t.$element.addClass("gantt-task-overlaps"),e[t.model.id]=t)}function l(e){var t={};if(e.length>1)for(var n=e[0],a=s(n),o=1,r=e.length;r>o;o++){var l=e[o],d=s(l);d.overlaps(a)&&(i(t,l),i(t,n)),n.left+n.width<l.left+l.width&&(n=l,a=d)}!function(e,t){for(var n=0,a=t.length;a>n;n++){var o=t[n];o.model.id in e||!o.$element||o.$element.removeClass("gantt-task-overlaps")}}(t,e)}function d(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n].tasks);var a;a=function(e){return e.model.from},l(t=t.sort(function(e,t){return a(e)<a(t)?-1:a(e)>a(t)?1:0}))}var c=r.gantt.api;void 0===n.enabled&&(n.enabled=!0),void 0===n.global&&(n.global=!1),n.enabled&&(c.data.on.change(n,function(){t(function(){var e=c.gantt.rowsManager.rows;if(n.global)d(e);else for(var t=0;t<e.length;t++)l(e[t].tasks)})}),c.tasks.on.change(n,function(e){n.global?d(e.row.rowsManager.rows):l(e.row.tasks)}),c.tasks.on.rowChange(n,function(e,t){n.global?d(t.rowsManager.rows):l(t.tasks)}),c.tasks.on.add(n,function(e){t(function(){n.global?d(e.row.rowsManager.rows):l(e.row.tasks)})}))}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(a,o,r,s){var i=s.gantt.api;if(a.options&&"object"==typeof a.options.progress)for(var l in a.options.progress)a[l]=a.options[l];void 0===a.enabled&&(a.enabled=!0),i.directives.on.new(a,function(e,o,s){if("ganttTaskBackground"===e){var i=o.$new();i.pluginScope=a;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var d=n[0].createElement("gantt-task-progress");void 0!==r.templateUrl&&angular.element(d).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(d).attr("data-template",r.template),angular.element(l).append(d),s.append(t(l)(i))}}),i.tasks.on.clean(a,function(t){void 0===t.est||e.isMoment(t.est)||(t.est=e(t.est)),void 0===t.lct||e.isMoment(t.lct)||(t.lct=e(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(e,t,n,a){function o(){var e=t.parent().parent().parent()[0].querySelectorAll("div.gantt")[0];return new ResizeSensor(e,function(){try{a.gantt.$scope.ganttElementWidth=e.clientWidth,a.gantt.$scope.$apply()}catch(e){}})}var r=a.gantt.api;if(e.options&&"object"==typeof e.options.progress)for(var s in e.options.progress)e[s]=e.options[s];void 0===e.enabled&&(e.enabled=!0);var i,l=!1;r.core.on.rendered(e,function(){l=!0,void 0!==i&&i.detach(),e.enabled&&(ElementQueries.update(),i=o())}),e.$watch("enabled",function(e){l&&(e&&void 0===i?(ElementQueries.update(),i=o()):e||void 0===i||(i.detach(),i=void 0))})}}}])}(),function(){"use strict";for(var e,t="gantt.sortable",n="ganttSortable",a=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],o=[],r=[],s=0,i=a.length;i>s;s++){var l=a[s];try{angular.isString(l)&&(l={module:l},a[s]=l),angular.module(l.module),r.push(l.module)}catch(e){l.exception=e,o.push(l)}}o.length>0?angular.module(t,[]).directive(n,["$log",function(a){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){a.warn(t+" module can't require some dependencies:");for(var r=0,s=o.length;s>r;r++){var i=(e=o[r]).module;e.url&&(i+=" ("+e.url+")"),e.exception&&e.exception.message&&(i+=": "+e.exception.message),a.warn(i)}a.warn(n+" plugin directive won't be available")}}}]):angular.module(t,r).directive(n,["ganttUtils","$compile",function(e,t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,a,o,r){var s=r.gantt.api;if(n.options&&"object"==typeof n.options.sortable)for(var i in n.options.sortable)n[i]=n.options[i];void 0===n.enabled&&(n.enabled=!0),s.directives.on.new(n,function(a,o,r){"ganttRowLabel"===a&&void 0===r.attr("drag")&&(o.checkDraggable=function(){var t=o.row.model.sortable;return"boolean"==typeof t&&(t={enabled:t}),e.firstProperty([t],"enabled",n.enabled)},o.onDropSuccess=function(){o.$evalAsync()},o.onDrop=function(e,t){var n=o.row.rowsManager.rowsMap[t.id];n!==o&&(o.row.rowsManager.moveRow(n,o.row),o.$evalAsync())},r.attr("ui-draggable","{{checkDraggable()}}"),r.attr("drag-channel","'sortable'"),r.attr("ui-on-drop","onDrop($event, $data)"),r.attr("on-drop-success","onDropSuccess()"),r.attr("drop-channel","'sortable'"),r.attr("drag","row.model"),t(r)(o))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(e,a,o,r){var s=r.gantt.api;if(e.options&&"object"==typeof e.options.sortable)for(var i in e.options.sortable)e[i]=e.options[i];void 0===e.enabled&&(e.enabled=!0),void 0===e.columns&&(e.columns=["model.name"]),void 0===e.headers&&(e.headers={"model.name":"Name"}),void 0===e.contents&&(e.contents={}),void 0===e.headerContents&&(e.headerContents={}),void 0===e.classes&&(e.classes={}),void 0===e.formatters&&(e.formatters={}),s.directives.on.new(e,function(a,o,r){if("ganttSideContent"===a){var s=o.$new();s.pluginScope=e;var i=n[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(i).append(l),r.append(t(i)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(e,t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,a,o,r){var s=r.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var i in n.options.tooltips)n[i]=n.options[i];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br>{{row.model.orderId}}</br><div class='m-t-xs m-b-xs'>{{task.model.startMode | translate}} <span ng-if='task.model.repeat' class='text-primary text-sm p-l-xs'>({{task.model.repeat}})</span></div><small class='text-muted'>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=s,s.directives.on.new(n,function(a,r,s){if("ganttTask"===a){var i=r.$new();i.pluginScope=n;var l=t[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var d=t[0].createElement("gantt-tooltip");void 0!==o.templateUrl&&angular.element(d).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(d).attr("data-template",o.template),angular.element(l).append(d),s.append(e(l)(i))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(e,t,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(e,a,o,r){var s=r.gantt.api;if(e.options&&"object"==typeof e.options.sortable)for(var i in e.options.sortable)e[i]=e.options[i];void 0===e.enabled&&(e.enabled=!0),void 0===e.header&&(e.header="Name"),void 0===e.headerContent&&(e.headerContent="{{getHeader()}}"),void 0===e.keepAncestorOnFilterRow&&(e.keepAncestorOnFilterRow=!1),s.directives.on.new(e,function(a,o,r){if("ganttSideContent"===a){var s=o.$new();s.pluginScope=e;var i=n[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("side-element");var l=n[0].createElement("gantt-side-content-tree");angular.element(i).append(l),r.append(t(i)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(e,t){return{restrict:"E",templateUrl:function(t,n){var a;return a=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&e.put(a,n.template),a},replace:!0,scope:!0,controller:["$scope","$element",function(e,n){n.toggleClass("ng-hide",!0),e.simplifyMoment=function(e){return t.isMoment(e)?e.unix():e},e.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var t=e.task.rowsManager.gantt.getPositionByDate(e.task.model.est),a=e.task.rowsManager.gantt.getPositionByDate(e.task.model.lct);n.css("left",t-e.task.left+"px"),n.css("width",a-t+"px"),n.toggleClass("gantt-task-bounds-in",!1),n.toggleClass("gantt-task-bounds-out",!1),void 0===e.task.model.est||void 0===e.task.model.lct?n.toggleClass("gantt-task-bounds-in",!0):e.task.model.est>e.task.model.from?n.toggleClass("gantt-task-bounds-out",!0):e.task.model.lct<e.task.model.to?n.toggleClass("gantt-task-bounds-out",!0):n.toggleClass("gantt-task-bounds-in",!0)}),e.task.$element.bind("mouseenter",function(){n.toggleClass("ng-hide",!1)}),e.task.$element.bind("mouseleave",function(){n.toggleClass("ng-hide",!0)}),e.task.rowsManager.gantt.api.directives.raise.new("ganttBounds",e,n),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",e,n)})}]}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesChecker",[function(){return function(e){function t(e,t){t.model.id in e||!t.$element||(t.$element.addClass("gantt-task-conflict"),e[t.model.id]=t)}function n(e,t){for(var n=0,a=t.length;a>n;n++){var o=t[n];o.model.id in e||!o.$element||o.$element.removeClass("gantt-task-conflict")}}this.refresh=function(a){for(var o=a.slice(0),r=[],s=0;s<a.length;s++)for(var i=e.getTaskDependencies(a[s]),l=0;l<i.length;l++){var d=i[l],c=d.getFromTask(),g=d.getToTask();c in o||o.push(c),g in o||o.push(g),c.model.to>g.model.from&&(t(r,c),t(r,g))}n(r,o)},this.clear=function(e){n([],e.slice(0))}}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesEvents",[function(){return function(e){var t=this;this.manager=e;var n=function(){return!t.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",n),this.manager.plumb.bind("beforeStartDetach",n);this.manager.plumb.bind("beforeDrop",function(e){return e.sourceId!==e.targetId}),this.manager.plumb.bind("connectionDrag",function(e){t.manager.setDraggingConnection(e)}),this.manager.plumb.bind("connectionDragStop",function(){t.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return t.manager.setDraggingConnection(void 0),!0});this.manager.plumb.bind("connectionMoved",function(e,n){if(n){var a;e.connection.$dependency&&(a=e.connection.$dependency);var o=e.newSourceEndpoint,r=e.newTargetEndpoint,s=o.$task.model,i=s.dependencies;void 0===i&&(i=[],s.dependencies=i);var l={to:r.$task.model.id};i.push(l),a&&(a.removeFromTaskModel(),t.manager.removeDependency(a,!0));var d=t.manager.addDependency(o.$task,l);e.connection.$dependency=d,d.connection=e.connection,t.manager.api.dependencies.raise.change(d,a)}}),this.manager.plumb.bind("connection",function(e,n){if(n){var a;e.connection.$dependency&&(a=e.connection.$dependency);var o=e.sourceEndpoint,r=e.targetEndpoint,s=o.$task.model,i=s.dependencies;void 0===i&&(i=[],s.dependencies=i);var l={to:r.$task.model.id};i.push(l),a&&(a.removeFromTaskModel(),t.manager.removeDependency(a,!0));var d=t.manager.addDependency(o.$task,l);e.connection.$dependency=d,d.connection=e.connection,t.manager.api.dependencies.raise.add(d)}}),this.manager.plumb.bind("connectionDetached",function(e,n){if(n){var a=e.connection.$dependency;a.removeFromTaskModel(),t.manager.removeDependency(a,!0),t.manager.api.dependencies.raise.remove(a)}})}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesManager",["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(e,t,n){return function(a,o,r){var s=this;this.gantt=a,this.pluginScope=o,this.api=r,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=jsPlumb.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new t(this),this.pluginScope.$watch("enabled",function(e,t){e!==t&&s.refresh()}),this.pluginScope.$watch("readOnly",function(e,t){e!==t&&(s.setTasks(s.tasksList),s.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(e,t){e!==t&&(s.plumb.importDefaults(e),s.refresh())},!0),this.addDependenciesFromTask=function(e){if(this.pluginScope.enabled){var t=e.model.dependencies;if(void 0!==t&&t){angular.isArray(t)||(t=[t],e.model.dependencies=t);for(var n=0,a=t.length;a>n;n++)s.addDependency(e,t[n]).connect()}}},this.removeDependenciesFromTask=function(e,t){var n=this.getTaskDependencies(e);if(n)for(var a=0;a<n.length;a++)t||n[a].disconnect(),s.removeDependency(n[a])},this.addDependency=function(t,n){var a=new e(this,t,n),o=a.getFromTaskId(),r=a.getToTaskId();return o in this.dependenciesFrom||(this.dependenciesFrom[o]=[]),r in this.dependenciesTo||(this.dependenciesTo[r]=[]),o&&this.dependenciesFrom[o].push(a),r&&this.dependenciesTo[r].push(a),a},this.removeDependency=function(e,t){var n,a=this.dependenciesFrom[e.getFromTaskId()],o=[];if(a)for(n=0;n<a.length;n++)e===a[n]&&o.push(e);var r=this.dependenciesTo[e.getToTaskId()],s=[];if(r)for(n=0;n<r.length;n++)e===r[n]&&s.push(e);for(n=0;n<o.length;n++)t||o[n].disconnect(),a.splice(a.indexOf(e),1);for(n=0;n<s.length;n++)t||s[n].disconnect(),r.splice(r.indexOf(e),1);this.dependenciesFrom[e.getFromTaskId()]&&0===this.dependenciesFrom[e.getFromTaskId()].length&&delete this.dependenciesFrom[e.getFromTaskId()],this.dependenciesTo[e.getToTaskId()]&&0===this.dependenciesTo[e.getToTaskId()].length&&delete this.dependenciesTo[e.getToTaskId()]},this.getTaskDependencies=function(e){var t=[],n=s.dependenciesFrom[e.model.id];n&&(t=t.concat(n));var a=s.dependenciesTo[e.model.id];return a&&(t=t.concat(a)),t},this.setDraggingConnection=function(e){e?(s.draggingConnection=e,angular.forEach(s.tasks,function(e){e.dependencies.mouseHandler.release()})):(s.draggingConnection=void 0,angular.forEach(s.tasks,function(e){e.dependencies.mouseHandler.install()}))};var i=function(e){var t=e.row.model.dependencies;if(void 0!==t)return!1!==t;var n=e.model.dependencies;return void 0===n||!1!==n},l=function(e){if(e.dependencies||(e.dependencies={}),e.dependencies.endpoints=[],s.pluginScope.endpoints&&e.$element)for(var t=0;t<s.pluginScope.endpoints.length;t++){var n=s.plumb.addEndpoint(e.$element,s.pluginScope.endpoints[t]);n.setVisible(!1,!0,!0),n.$task=e,e.dependencies.endpoints.push(n)}},d=function(e){if(e.dependencies.endpoints){for(var t=0;t<e.dependencies.endpoints.length;t++){var n=e.dependencies.endpoints[t];s.plumb.deleteEndpoint(n),n.$task=void 0}e.dependencies.endpoints=void 0}},c=function(e){e.dependencies||(e.dependencies={}),s.pluginScope.readOnly||(e.dependencies.mouseHandler=new n(s,e),e.dependencies.mouseHandler.install())},g=function(e){e.dependencies.mouseHandler&&(e.dependencies.mouseHandler.release(),e.dependencies.mouseHandler=void 0)};this.setTasks=function(e){angular.forEach(s.tasks,function(e){g(e),d(e)});for(var t={},n=[],a=0;a<e.length;a++){var o=e[a];i(o)&&(t[o.model.id]=o,n.push(o),l(o),c(o))}s.tasks=t,s.tasksList=e};this.setTask=function(e){s.plumb.setSuspendDrawing(!0);try{var t=s.tasks[e.model.id];void 0!==t&&(function(e){var t=s.getTaskDependencies(e);if(t)for(var n=0;n<t.length;n++)t[n].disconnect()}(t),g(t),d(t)),i(e)&&(s.tasks[e.model.id]=e,l(e),c(e),function(e){var t=s.getTaskDependencies(e);if(t)for(var n=0;n<t.length;n++)t[n].connect()}(e))}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(e){return s.tasks[e]};this.connect=function(e,t,n){var a,o,r=e.dependencies.endpoints.filter(function(e){return e.isSource}),i=t.dependencies.endpoints.filter(function(e){return e.isTarget});if(r&&i)return a=n.connectParameters&&n.connectParameters.sourceEndpointIndex?r[n.connectParameters.sourceEndpointIndex]:r[0],o=n.connectParameters&&n.connectParameters.targetEndpointIndex?i[n.connectParameters.targetEndpointIndex]:i[0],s.plumb.connect({source:a,target:o},n.connectParameters)},this.getDependencies=function(){var e=[];return angular.forEach(this.dependenciesFrom,function(t){for(var n=0;n<t.length;n++)t[n]in e||e.push(t[n])}),e},this.refresh=function(e){s.plumb.setSuspendDrawing(!0);try{var t,n;for(e&&!angular.isArray(e)&&(e=[e]),void 0===e?(e=this.tasks,t=this.getDependencies()):(t=[],angular.forEach(e,function(e){var n=s.getTaskDependencies(e);angular.forEach(n,function(e){e in t||t.push(e)})})),n=0;n<t.length;n++)s.removeDependency(t[n]);angular.forEach(e,function(e){s.addDependenciesFromTask(e)})}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependency",["ganttUtils","ganttDom",function(e,t){return function(n,a,o){var r=this;this.manager=n,this.task=a,this.model=o,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return!!this.connection},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){for(var e=0;e<this.fallbackEndpoints.length;e++)r.manager.plumb.deleteEndpoint(this.fallbackEndpoints[e]);this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var t=e.angularIndexOf(this.task.model.dependencies,this.model);return t>=0&&this.task.model.dependencies.splice(t,1),t};var s=function(e){if(void 0===e||void 0===e.$element)return!1;var n=e.$element[0];return t.isElementVisible(n)};this.connect=function(){var e=this.getFromTask(),t=this.getToTask();if(s(e)||(e=void 0),s(t)||(t=void 0),e&&t){var n=this.manager.connect(e,t,this.model);if(n)return n.$dependency=this,this.connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==e){var a=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,a))}if(void 0!==t){var o=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,o))}return!1}}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependencyTaskMouseHandler",["$timeout",function(e){return function(t,n){var a=this;this.manager=t,this.task=n,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var o=function(t){this.element=t,this.mouseExitHandler=function(){e.cancel(a.hideEndpointsPromise),a.hideEndpointsPromise=e(a.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){e.cancel(a.hideEndpointsPromise),a.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),e.cancel(a.hideEndpointsPromise)}};this.install=function(){a.installed||(a.hideEndpoints(),a.task.getContentElement()&&(a.elementHandlers.push(new o(a.task.getContentElement())),angular.forEach(a.task.dependencies.endpoints,function(e){a.elementHandlers.push(new o(angular.element(e.canvas)))}),angular.forEach(a.elementHandlers,function(e){e.install()}),a.installed=!0))},this.release=function(){a.installed&&(angular.forEach(a.elementHandlers,function(e){e.release()}),a.elementHandlers=[],a.displayEndpoints(),a.installed=!1)},this.displayEndpoints=function(){a.display=!0,angular.forEach(a.task.dependencies.endpoints,function(e){e.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){angular.forEach(a.task.dependencies.endpoints,function(e){e.setVisible(!1,!0,!0)}),a.display=!1}}}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(e,t,n){var a=function(){var a=e.row.model.groups;"boolean"==typeof a&&(a={enabled:a}),n.firstProperty([a],"enabled",e.pluginScope.enabled)?(e.display=n.firstProperty([a],"display",e.pluginScope.display),e.taskGroup=new t(e.row,e.pluginScope),e.row.setFromTo(),e.row.setFromToByValues(e.taskGroup.from,e.taskGroup.to)):(e.taskGroup=void 0,e.display=void 0)};e.gantt.api.tasks.on.viewChange(e,function(t){if(void 0!==e.taskGroup)if(e.taskGroup.tasks.indexOf(t)>-1)a(),e.$$phase||e.$root.$$phase||e.$digest();else{e.pluginScope.hierarchy.descendants(e.row).indexOf(t.row)>-1&&(a(),e.$$phase||e.$root.$$phase||e.$digest())}});var o=e.pluginScope.$watch("display",a);e.$watchCollection("gantt.rowsManager.filteredRows",a),e.gantt.api.columns.on.refresh(e,a),e.$on("$destroy",o)}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(e){return new e("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(e,t){return function(n,a){var o=this;o.row=n,o.pluginScope=a,o.descendants=o.pluginScope.hierarchy.descendants(o.row),o.tasks=[],o.overviewTasks=[],o.promotedTasks=[],o.showGrouping=!1;var r=o.row.model.groups;"boolean"==typeof r&&(r={enabled:r});for(var s=function(t){var n=t.model.groups;"boolean"==typeof n&&(n={enabled:n});var a=t.row.model.groups;if("boolean"==typeof a&&(a={enabled:a}),e.firstProperty([n,a,r],"enabled",o.pluginScope.enabled))return e.firstProperty([n,a,r],"display",o.pluginScope.display)},i=0;i<o.descendants.length;i++)for(var l=o.descendants[i].tasks,d=0;d<l.length;d++){var c=l[d],g=s(c);if(void 0!==g){o.tasks.push(c);var u=new t(o.row,c.model);"overview"===g?o.overviewTasks.push(u):"promote"===g?o.promotedTasks.push(u):o.showGrouping=!0}}if(o.from=void 0,r&&(o.from=r.from),void 0===o.from)for(i=0;i<o.tasks.length;i++)(void 0===o.from||o.tasks[i].model.from<o.from)&&(o.from=o.tasks[i].model.from);if(o.to=void 0,r&&(o.to=r.to),void 0===o.to)for(i=0;i<o.tasks.length;i++)(void 0===o.to||o.tasks[i].model.to>o.to)&&(o.to=o.tasks[i].model.to);o.showGrouping&&(o.left=n.rowsManager.gantt.getPositionByDate(o.from),o.width=n.rowsManager.gantt.getPositionByDate(o.to)-o.left)}}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder",function(e){var t=new e("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return t.controller=function(e,t){e.task.$element=t,e.task.$scope=e,e.task.updatePosAndSize()},t.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(e,t){var n=new e("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getLabelsCss=function(){var t={};if(e.maxHeight){var a=e.gantt.scroll.isHScrollbarVisible()?n:0;t["max-height"]=e.maxHeight-a-e.gantt.header.getHeight()+"px"}return t}},n.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(e){return new e("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(e){return new e("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(e){return e.enabled=void 0===e.enabled||e.enabled,e.allowMoving=void 0===e.allowMoving||!!e.allowMoving,e.allowResizing=void 0===e.allowResizing||!!e.allowResizing,e.allowRowSwitching=void 0===e.allowRowSwitching||!!e.allowRowSwitching,e}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(e){return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,n){var a;return a=void 0===n.templateUrl?"plugins/progress/taskProgress.tmpl.html":n.templateUrl,void 0!==n.template&&e.put(a,n.template),a},replace:!0,scope:!0,controller:["$scope","$element",function(e,t){e.getClasses=function(){var t=[];return"object"==typeof e.task.model.progress&&(t=e.task.model.progress.classes),t},e.getCss=function(){var t,n={};return void 0!==e.task.model.progress&&(t="object"==typeof e.task.model.progress?e.task.model.progress:{percent:e.task.model.progress}),t&&(t.color?n["background-color"]=t.color:n["background-color"]="#6BC443",n.width=t.percent+"%"),n},e.task.rowsManager.gantt.api.directives.raise.new("ganttTaskProgress",e,t),e.$on("$destroy",function(){e.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",e,t)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(e,t){var n=new e("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getMaxHeightCss=function(){var t={};if(e.maxHeight){var a=e.gantt.scroll.isHScrollbarVisible()?n:0;t["max-height"]=e.maxHeight-a-e.gantt.header.getHeight()+"px"}return t}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(e){e.getHeader=function(){var t=e.pluginScope.headers[e.column];return void 0!==t?t:(void 0!==e.pluginScope.headerFormatter&&(t=e.pluginScope.headerFormatter(e.column)),t)},e.getHeaderContent=function(){var t=e.pluginScope.headerContents[e.column];return void 0===t?"{{getHeader()}}":t},e.getClass=function(){return e.pluginScope.classes[e.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope","$rootScope","$location",function(e,t,n){e.getValue=function(){var t=e.$eval(e.column,e.row),n=e.pluginScope.formatters[e.column];return void 0!==n&&(t=n(t,e.column,e.row)),t},e.getRowContent=function(){var t;return e.row.model.columnContents&&(t=e.row.model.columnContents[e.column]),void 0===t&&"model.name"===e.column&&(t=e.row.model.content),void 0===t&&(t=e.pluginScope.contents[e.column]),void 0===t&&"model.name"===e.column&&(t=e.row.rowsManager.gantt.options.value("rowContent")),void 0===t&&void 0!==e.pluginScope.content&&(t=e.pluginScope.content),void 0===t?"{{getValue()}}":t},e.showJobChain=function(e,a,o){if("gantt-label-text"==$(e.target).attr("class"))if($(e.target).text()==o)t.$broadcast("order-list",a);else{var r=JSON.parse(sessionStorage.$SOS$scheduleIds).selected;n.path("/job_chain").search({path:a,scheduler_id:r})}},e.showJob=function(e){var t=JSON.parse(sessionStorage.$SOS$scheduleIds).selected;n.path("/job").search({path:e,scheduler_id:t})}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(e,t,n,a,o,r,s){return{restrict:"E",templateUrl:function(e,t){var n;return n=void 0===t.templateUrl?"plugins/tooltips/tooltip.tmpl.html":t.templateUrl,void 0!==t.template&&o.put(n,t.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(e,n,o){var i,l,d,c=angular.element(a[0].body),g=e.task.$element,u=!1,p=function(t){var o;t+n[0].offsetWidth>((o=a[0]).documentElement.clientWidth||o.documentElement.getElementById("body")[0].clientWidth)?(n.css("left",t+20-n[0].offsetWidth+"px"),e.isRightAligned=!0):(n.css("left",t-20+"px"),e.isRightAligned=!1)},m=function(t){u=!0,d.bind(),e.displayed=!0,e.$evalAsync(function(){var a;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),a=!0),e.elementHeight=n[0].offsetHeight,a&&n.addClass("ng-hide"),e.taskRect=g[0].getBoundingClientRect(),p(t)})},f=function(n,a){i&&t.cancel(i);var r=e.task.model.tooltips,s=e.task.row.model.tooltips;"boolean"==typeof r&&(r={enabled:r}),"boolean"==typeof s&&(s={enabled:s}),o.firstProperty([r,s],"enabled",e.pluginScope.enabled)&&!u&&void 0!==l&&n?a?i=t(function(){m(l)},e.pluginScope.delay,!1):m(l):n||e.task.active||(u=!1,d.unbind(),e.$evalAsync(function(){e.displayed=!1}))};d=s(e,c,"mousemove",r(function(t){u?((!e.taskRect||t.clientX<e.taskRect.left||t.clientX>e.taskRect.right||t.clientY>e.taskRect.bottom||t.clientY<e.taskRect.top)&&f(!1,!1),p(t.clientX)):(l=t.clientX,f(!0,!1))},5,!1)),e.getFromLabel=function(){var t=e.task.model.tooltips,n=e.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof n&&(n={enabled:n});var a=o.firstProperty([t,n],"dateFormat",e.pluginScope.dateFormat);return e.task.model.from.format(a)},e.getToLabel=function(){var t=e.task.model.tooltips,n=e.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof n&&(n={enabled:n});var a=o.firstProperty([t,n],"dateFormat",e.pluginScope.dateFormat);return e.task.model.to.format(a)},e.task.getContentElement().bind("mousemove",function(e){l=e.clientX}),e.task.getContentElement().bind("mouseenter",function(e){l=e.clientX,f(!0,!0)}),e.task.getContentElement().bind("mouseleave",function(){f(!1)}),e.pluginScope.api.tasks.on.moveBegin&&(e.pluginScope.api.tasks.on.moveBegin(e,function(t){t===e.task&&f(!0)}),e.pluginScope.api.tasks.on.moveEnd(e,function(t){t===e.task&&f(!1)}),e.pluginScope.api.tasks.on.resizeBegin(e,function(t){t===e.task&&f(!0)}),e.pluginScope.api.tasks.on.resizeEnd(e,function(t){t===e.task&&f(!1)})),e.task.isMoving&&f(!0,!1),e.gantt.api.directives.raise.new("ganttTooltip",e,n),e.$on("$destroy",function(){e.gantt.api.directives.raise.destroy("ganttTooltip",e,n)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(e){var t=new e("ganttRowTreeLabel");return t.restrict="A",t.templateUrl=void 0,t.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(e){return new e("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","$filter","GanttHierarchy",function(e,t,n){e.rootRows=[],e.getHeader=function(){return e.pluginScope.header};var a=new n;e.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(n){if(n[0]&&n[1]){e.gantt.rowsManager.setFilterImpl(function(e,n,o){a.refresh(e);for(var r=[],s=0;s<e.length;s++){var i=a.children(e[s]);i&&0!==i.length||r.push(e[s])}var l=t("filter")(r,n,o);return t("filter")(e,function(e){if(l.indexOf(e)>-1)return!0;for(var t=a.descendants(e),n=0;n<t.length;n++)if(l.indexOf(t[n])>-1)return!0;return!1},o)})}else e.gantt.rowsManager.setFilterImpl(!1)});var o=function(t){return t.filter(function(t){return function(t){for(var n=e.parent(t);void 0!==n;){if(void 0!==n&&n._collapsed)return!1;n=e.parent(n)}return!0}(t)})},r=function(t){for(var n=[],a=[],o=0;o<t.length;o++){void 0===e.parent(t[o])?a.push(t[o]):!0}var r=function(a){n.push(a);var o=e.children(a);if(void 0!==o&&o.length>0)for(var s=o.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)}),i=0;i<s.length;i++)r(s[i])};for(o=0;o<a.length;o++)r(a[o]);return n};e.gantt.api.rows.addRowSorter(r),e.gantt.api.rows.addRowFilter(o),e.$on("$destroy",function(){e.gantt.api.rows.removeRowSorter(r),e.gantt.api.rows.removeRowFilter(o)});var s=function(){e.rootRows=a.refresh(e.gantt.rowsManager.filteredRows),e.gantt.rowsManager.filteredRows.length>0&&(e.gantt.api.rows.sort(),e.gantt.api.rows.refresh())};e.gantt.api.rows.on.remove(e,s),e.gantt.api.rows.on.add(e,s);e.getHeaderContent=function(){return e.pluginScope.headerContent},e.gantt.api.registerMethod("tree","refresh",s,this),e.gantt.api.registerMethod("tree","isCollapsed",function(t){var n;return void 0===(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t)?void 0:void 0!==n._collapsed&&n._collapsed},this),e.gantt.api.registerMethod("tree","expand",function(t){var n;if(void 0!==(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t)){var a=e.nodeScopes[n.model.id];a.collapsed&&a.toggle()}},this),e.gantt.api.registerMethod("tree","collapse",function(t){var n;if(void 0!==(n="string"==typeof t?e.gantt.rowsManager.rowsMap[t]:t)){var a=e.nodeScopes[n.model.id];a.collapsed||a.toggle()}},this),e.gantt.api.registerEvent("tree","collapsed"),e.gantt.api.registerMethod("tree","getHierarchy",function(){return a},this),e.$watchCollection("gantt.rowsManager.filteredRows",function(){s()}),e.children=function(t){return void 0===t?e.rootRows:a.children(t)},e.parent=function(e){return a.parent(e)},e.nodeScopes={}}]).controller("GanttUiTreeController",["$scope",function(e){e.gantt.api.registerMethod("tree","collapseAll",function(){e.$broadcast("angular-ui-tree:collapse-all")},e),e.gantt.api.registerMethod("tree","expandAll",function(){e.$broadcast("angular-ui-tree:expand-all")},e)}]).controller("GanttTreeNodeController",["$scope",function(e){e.$parent.nodeScopes[e.row.model.id]=e,e.$on("$destroy",function(){delete e.$parent.nodeScopes[e.row.model.id]}),e.$watch("children(row)",function(t){if(t){for(var n=e.row.rowsManager.filteredRows,a=[],o=0;o<t.length;o++){var r=t[o];n.indexOf(r)>-1&&a.push(r)}e.$parent.childrenRows=a}else e.$parent.childrenRows=t}),e.isCollapseDisabled=function(){return!e.$parent.childrenRows||0===e.$parent.childrenRows.length},e.getValue=function(){return e.row.model.name},e.getRowContent=function(){if(void 0!==e.row.model.content)return e.row.model.content;if(void 0!==e.pluginScope.content)return e.pluginScope.content;var t=e.row.rowsManager.gantt.options.value("rowContent");return void 0===t&&(t="{{row.model.name}}"),t},e.$watch("collapsed",function(t){if(e.$modelValue._collapsed!==t){var n=e.$modelValue._collapsed;e.$modelValue._collapsed=t,void 0!==n&&t!==n&&(e.gantt.api.tree.raise.collapsed(e,e.$modelValue,t),e.gantt.api.rows.refresh())}})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(e,t){var n=new e("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(e){var n=t.getScrollBarHeight();e.getLabelsCss=function(){var t={};if(e.maxHeight){var a=e.gantt.scroll.isHScrollbarVisible()?n:0;t["max-height"]=e.maxHeight-a-e.gantt.header.getHeight()+"px"}return t}},n.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(e){return new e("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html").build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(e){e.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.dependencies.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(e){e.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-if="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group-promote" ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0">\n        <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task>\n    </div>\n    <div class="gantt-task-group"\n         ng-if="taskGroup.showGrouping"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),e.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(e){e.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n  <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span class="gantt-label-text">{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),e.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(e){e.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(e){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(e){e.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n   <a class="text-hover-primary" ng-click="showJobChain($event,row.model.name,row.model.orderId);$event.stopPropagation()" ng-if="row.model.orderId" ><span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"> </span></a> <a class="text-hover-primary" ng-click="showJob(row.model.name);$event.stopPropagation()" ng-if="!row.model.orderId" ><span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"> </span></a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(e){e.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="pluginScope.content"></div>\n    </div>\n</div>\n')}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(e){e.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree" ng-controller="GanttTreeController">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),e.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree ng-controller="GanttUiTreeController" data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),e.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ng-controller="GanttTreeNodeController"\n     class="gantt-row-label gantt-row-height"\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="isCollapseDisabled()" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="!isCollapseDisabled() && toggle()"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right fa fa-chevron-right\': collapsed, \'glyphicon glyphicon-chevron-down fa fa-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span gantt-row-label class="gantt-label-text" gantt-bind-compile-html="getRowContent()"/>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hide: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows" ui-tree-node>\n        <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div>\n    </li>\n</ol>\n'),e.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n    <div ng-if="$parent.ganttHeaderHeight" class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/></div>\n</div>\n')}]);
