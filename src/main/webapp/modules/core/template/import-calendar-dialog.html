<div nv-file-drop="" uploader="uploader" filters="queueLimit, customFilter">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-label="Close">
            <span aria-hidden="true" class="fa fa-times-circle"></span>
        </button>
        <h4 class="modal-title" translate>label.importCalendar</h4>
    </div>
    <div class="modal-body p-a">
        <div ng-if="fileLoading" class="text-center" style="min-height: 250px">
            <div class="cssload-loading text-sm" style="margin-top: 100px">{{'message.readingContentOfFile' | translate}}...</div>
        </div>
        <form name="form1" ng-submit="ok()" novalidate ng-hide="fileLoading">
            <div class="table-responsive" ng-if="uploader.queue.length>0" style="min-height: 250px; max-height: 600px; overflow: auto">
                <table class="table table-hover table-bordered  " >
                        <thead>
                        <tr>
                            <th width="30">
                                <label class="md-check lg-check">
                                    <input type="checkbox" ng-model="checkImportCalendar.checkbox" ng-click="checkImportCalendarFn()"><i class="primary"></i>
                                </label>
                            </th>
                            <th><span translate>label.name</span></th>
                            <th><span translate>label.path</span></th>
                            <th><span translate>label.type</span></th>
                            <th><span translate>label.category</span></th>
                            <th><span translate>label.validityFrom</span></th>
                            <th><span translate>label.validityTo</span></th>
                        </tr>
                        </thead>
                        <tbody ng-repeat="calendar in fileContentCalendars">
                        <tr>
                            <td >
                                <label class="md-check">
                                    <input type="checkbox" data-checklist-model="importCalendarObj.calendars"
                                           data-checklist-value="calendar"><i class="primary"></i>
                                </label>
                            </td>
                            <td>
                             <span>
                                 <span class="text-dark ">{{calendar.path.substring(calendar.path.lastIndexOf('/')+1)}}</span>
                                 <span ng-if="calendar.title">-</span>
                                 <i class="text-muted" ng-bind-html="calendar.title | linky:'_blank'"></i>
                                 <label class="label label-warning" ng-if="calendar.isExit" translate="">label.exist</label>
                             </span>
                            </td>
                            <td ng-bind="calendar.path"></td>
                            <td><span class="label " ng-class="{'bg-green': calendar.type=='WORKING_DAYS','bg-gold':calendar.type=='NON_WORKING_DAYS'}" ng-bind="calendar.type | translate"></span></td>
                            <td ng-bind="calendar.category"></td>
                            <td ng-bind="calendar.from | stringToDate1"></td>
                            <td ng-bind="calendar.to | stringToDate1"></td>
                        </tr>
                        </tbody>
                    </table>
            </div>
            <div nv-file-drop="" uploader="uploader" class="drop-box-full" ng-hide="uploader.queue.length>0">
                <div><img src="images/upload.png"></div>
                <div translate>button.dropFileToUpload</div>
            </div>
            <div class="p-l-sm p-t-sm" ng-hide="uploader.queue.length>0">
                <button type="button" class="btn bg-blue btn-sm"
                        onclick="openFileOption()">
                    <span translate="">button.chooseFileToUpload</span>
                </button>
            </div>
            <input type="file" id="file1" nv-file-select="" uploader="uploader" style="display: none;">
            <div class="row m-t-md" ng-if="uploader.queue.length>0">
                <div class="b-t"></div>
            </div>
            <div class="form-group m-t m-b-xs" ng-if="uploader.queue.length>0">
                <button type="submit" class="btn btn-primary btn-sm" ng-disabled="importCalendarObj.calendars.length==0" translate> button.import </button>
                <button type="button" class="btn btn-danger btn-sm m-l-sm" ng-click="uploader.queue[0].remove()" translate>button.remove</button>
                <button type="button" class="btn btn-grey btn-sm m-l-sm" ng-click="cancel()" translate>button.cancel</button>
            </div>
        </form>
    </div>
</div>
<script>
    function openFileOption() {
        document.getElementById("file1").click();
    }
</script>
