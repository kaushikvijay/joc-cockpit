<div class="white box-shadow sub-header">
    <div class="row">
        <div class="col-md-12">
            <div class="padding">
                <div>
                    <span class="text-md text-orange _600 p-t-xs" ncy-breadcrumb-last></span>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="padding p-b-0">
    <div class="row m-t-xs">
        <div class="col-md-6 ">
            <h5 class=" _300 m-t-sm">
                <span ng-if="orderId">{{jobChain}} - <i class="text-muted">{{orderId}}</i></span>
                <span ng-if="taskId"><span ng-if="job">{{job}} </span> <span ng-if="!job" translate>label.taskId </span> - <i class="text-muted">{{taskId}}</i></span>
            </h5>
        </div>
        <div class="col-md-6 ">
            <button type="button" class="btn btn-grey btn-sm pull-right m-l-sm" ng-click="print()" uib-tooltip="{{'tooltip.printLogFile' | translate}}" tooltip-placement="bottom"><i class="fa fa-print"></i></button>
            <button type="button" class="btn btn-grey btn-sm pull-right m-l-sm" ng-click="saveLog()" uib-tooltip="{{'tooltip.saveLogFile'| translate}}" tooltip-placement="bottom"><i class="fa fa-save"></i></button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="box white">
                <div class="box-body m-t-sm p-a p-b-xs">
                    <div>
                        <a class="text-primary text text-u-l cursor" ng-click="downloadLog()"><i
                                class="fa fa-download"></i> <span translate>button.download</span></a>
                        <a class="pull-right text m-r-sm cursor text-danger-hover" ng-if="!isCancel && !finished"
                           ng-click="cancel()"><i class="fa fa-times"></i> <span translate>button.cancel</span></a>
                        <a class="hide pull-right text m-r-sm cursor text-primary-hover"
                           ng-class="{'show': isCancel || finished}" ng-click="reload()"><i class="fa fa-refresh"></i>
                            <span translate>button.reload</span></a>
                    </div>
                    <div ng-if="!isLoading" class="text-center m-t-md"><i class="fa fa-spin fa-spinner fa-2x"></i></div>
                    <pre id="logs" class="log" style="overflow: auto"></pre>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(function(){
        var $header = $('app-header').height() || 60;
        var $topHeader = $('.top-header-bar').height() || 16;
        var $subHeaderHt = 59;
        $(window).on('resize', function(){
           var height = $(this).height() - ($header + $topHeader +$subHeaderHt +124);
           $('.log').height(height);
        }).trigger('resize'); //on page load
    });
</script>
