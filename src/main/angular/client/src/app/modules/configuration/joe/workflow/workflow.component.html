<div class="row pos-abt w-full m-t-n-40">
  <div class="col-md-12">
    <div class="inline pull-right m-l">
      <button class="btn btn-sm btn-grey m-l-12" [disabled]="!workFlowJson.instructions"
              [nz-tooltip]="'workflow.button.reload' | translate" (click)="clearWorkFlow()">
        <i class="icon1-reset"></i>
      </button>
      <button class="btn btn-sm btn-grey m-l-12" [disabled]="!workFlowJson.instructions"
              [nz-tooltip]="'workflow.button.submitWorkFlow' | translate" (click)="submitWorkFlow()">
        <i class="icon1-SaveIco"></i>
      </button>
    </div>
    <div class="inline pull-right">
      <ul class="nav navbar-nav navbar-nav-inline nav-active-border3 ">
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom" ngbTooltip="{{'workflow.button.zoomIn' | translate}}"
             (click)="zoomIn()">
            <span class="nav-text"> <i class="icon1-Zoom-In"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom"
             ngbTooltip="{{'workflow.button.zoomOut' | translate}}" (click)="zoomOut()">
            <span class="nav-text"> <i class="icon1-Zoom-Out"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom" ngbTooltip="{{'workflow.button.actual' | translate}}"
             (click)="actual()">
            <span class="nav-text"> <i class="icon1-Actual-size"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom" ngbTooltip="{{'workflow.button.fit' | translate}}"
             (click)="fit()">
            <span class="nav-text"> <i class="icon1-fit-to-width"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="undoBtn" placement="bottom"
             ngbTooltip="{{'workflow.button.undo' | translate}}" (click)="undo()">
            <span class="nav-text"> <i class="icon1-undo"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="redoBtn" placement="bottom"
             ngbTooltip="{{'workflow.button.redo' | translate}}" (click)="redo()">
            <span class="nav-text"> <i class="icon1-redo"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom"
             ngbTooltip="{{'workflow.button.delete' | translate}}" (click)="delete()">
            <span class="nav-text"> <i class="icon1-Delete"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom"
             ngbTooltip="{{'button.export' | translate}}" (click)="exportJSON()">
            <span class="nav-text">  <i nz-icon nzType="download" nzTheme="outline"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
        <li class="nav-item">
          <a class="nav-link" placement="bottom"
             ngbTooltip="{{'button.import' | translate}}" (click)="importJSON()">
            <span class="nav-text">  <i nz-icon nzType="upload" nzTheme="outline"></i></span>
          </a>
        </li>
        <li class="nav-item dropdown-separator">
          <span class="separator"></span>
        </li>
      </ul>
    </div>
    <div class="inline pull-right m-r-12 p-t-xs">
      <span *ngIf="workFlowJson.instructions" class="badge" [ngClass]="isWorkflowDraft ? 'badge-danger':'badge-success'"
            translate>{{isWorkflowDraft ? 'workflow.label.draft' : 'workflow.label.readyToDeploy'}}</span>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div id="toolbar" class="bg-white"></div>
    <div class="graph-container">
      <div id="graph"></div>
      <!-- Creates a container for the outline -->
      <div id="outlineContainer"></div>
    </div>
  </div>
</div>
<!-- BEGIN SLIDER -->
<div id="rightSideBar" *ngIf="selectedNode" class="slideInRight">
  <div class="close-btn" (click)="close()"></div>
    <div class="text-center" style="margin-top: -40px">
      <h5><span class="b-b p-b-xs" translate>workflow.label.properties</span></h5>
    </div>
    <div class="text-left">
      <div class="box-body" *ngIf="selectedNode.type === 'Job'">
        <app-job-content [selectedNode]="selectedNode" [jobs]="jobs"></app-job-content>
      </div>
      <div class="box-body" *ngIf="selectedNode.type === 'If'">
        <app-expression-content [selectedNode]="selectedNode"></app-expression-content>
      </div>
      <div class="box-body" *ngIf="selectedNode.type === 'Abort' || selectedNode.type === 'Terminate'">
        <div class="form-group row">
          <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.message</label>
          <div class="col-md-8 col-lg-9">
            <textarea class="form-control" name="message" rows="5" [(ngModel)]="selectedNode.obj.message"></textarea>
          </div>
        </div>
      </div>
      <div class="box-body" *ngIf="selectedNode.type === 'Retry'">
        <div>
          <div class="form-group row">
            <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.repeat</label>
            <div class="col-md-8 col-lg-9">
              <input type="text" autocomplete="off" required class="form-control" name="repeat"
                     [(ngModel)]="selectedNode.obj.repeat">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.delay</label>
            <div class="col-md-8 col-lg-9">
              <input type="text" class="form-control"
                     name="delay" [(ngModel)]="selectedNode.obj.delay">
            </div>
          </div>
        </div>
      </div>
      <div class="box-body" *ngIf="selectedNode.type === 'FileOrder'">
        <div>
          <div class="form-group row">
            <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.agent</label>
            <div class="col-md-8 col-lg-9">
              <input type="text" autocomplete="off" required class="form-control" name="agent"
                     [(ngModel)]="selectedNode.obj.agentPath">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.directory</label>
            <div class="col-md-8 col-lg-9">
              <input type="text" class="form-control"
                     name="directory" [(ngModel)]="selectedNode.obj.directory">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.regex</label>
            <div class="col-md-8 col-lg-9">
              <input type="text" class="form-control"
                     name="regex" [(ngModel)]="selectedNode.obj.regex">
            </div>
          </div>
          <div class="form-group row">
            <label class="col-md-4 col-lg-3 form-control-label" translate>workflow.label.directory</label>
            <div class="col-md-8 col-lg-9">
              <input type="text" class="form-control" name="title"
                     [(ngModel)]="selectedNode.obj.directory">
            </div>
          </div>
        </div>
      </div>
    </div>

</div>
<!-- END SLIDER -->




