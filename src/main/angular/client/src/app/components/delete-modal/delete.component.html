<div class="modal-header">
  <h4 class="modal-title">
    <span *ngIf="!calendar">
      <span class="text-capitalize" translate>label.delete</span> :
      {{entry}} {{user}} {{role}} {{master}} {{folder}} {{permission}} {{profiles}}
      ?
    </span>
    <span *ngIf="calendar">
      <span *ngIf="!calendar.delete && (!importCalendars || importCalendars.length==0)">
        <span class="text-capitalize" translate>label.update</span> {{calendar.name}} ?
      </span>
      <span *ngIf="calendar.delete && (!importCalendars || importCalendars.length==0)">
        <span class="text-capitalize" translate>label.delete</span> {{calendar.name}} ?
      </span>
      <span *ngIf="calendarArr">
        <span class="text-capitalize" translate>label.deleteAllCalendar</span>?
      </span>
      <span *ngIf="importCalendars && importCalendars.length>0">
        <span class="text-capitalize" translate>label.importAllCalendar</span>?
      </span>
    </span>
  </h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div id="freq-modal" class="modal-body p-a">
  <div class="row text-center">
    <div class="col-sm-12">
      <span translate class="text" *ngIf="entry">message.deleteMainSection</span>
      <span translate class="text" *ngIf="user">message.deleteUser</span>
      <span translate class="text" *ngIf="role">message.deleteRole</span>
      <span translate class="text" *ngIf="master">message.deleteMaster</span>
      <span translate class="text" *ngIf="folder">message.deleteFolder</span>
      <span translate class="text" *ngIf="permission">message.deletePermission</span>
      <span class="text" *ngIf="object && object.profiles">
        <div translate class="text"></div>
        <p><strong translate="">message.deleteProfiles1 <span class="text-danger" *ngFor="let profile of object.profiles; let i = index">{{profile.account}}<span *ngIf="i!=object.profiles.length-1">,&nbsp;</span></span> message.deleteProfiles2</strong></p>
        <p>All information associated to this user profile will be permanently deleted.
        <span class="text-danger">This operation can not be undone.</span>
        </p>
      </span>

      <div *ngIf="calendar">
        <div *ngIf="calendar && !calendarArr && (!importCalendars || importCalendars.length==0)">
          <div class="row text-center">
            <div class="col-sm-12 text m-b">
              <span *ngIf="!calendar.delete" translate>message.updateCalendar</span>
              <span *ngIf="calendar.delete" translate>message.deleteCalendar</span>
            </div>
          </div>
          <div class="text-left row">
            <div class=" col-sm-12">
              <div>
                <div class="row form-group" *ngIf="calendar.usedIn.jobs">
                  <label class="col-md-3" translate="">
                    label.jobs
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let job of calendar.usedIn.jobs; let i = index">
                      {{i+1}} - {{job}}
                    </div>
                  </div>
                </div>
                <div class="row form-group" *ngIf="calendar.usedIn.orders">
                  <label class="col-md-3" translate="">
                    label.orders
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let order of calendar.usedIn.orders; let i = index">
                      {{i+1}} - {{order}}
                    </div>
                  </div>
                </div>
                <div class="row form-group" *ngIf="calendar.usedIn.schedules">
                  <label class="col-md-3" translate="">
                    label.schedules
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let schedule of calendar.usedIn.schedules; let i = index">
                      {{i+1}} - {{schedule}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="calendarArr && !calendar">
          <div class="row form-group">
            <span translate class="text">message.deleteAllCalendar</span>
          </div>
          <div class="text-left row" *ngFor="let calendar of calendarArr; let x = index" [ngClass]="{'b-t p-t': x !=0}">
            <div class="row col-sm-12">
              <span class="col-md-3" translate="">label.calendar</span>
              <label class="col-md-9">{{calendar.path}}</label>
            </div>
            <div class="col-sm-12">
              <div>
                <div class="row form-group" *ngIf="calendar.usedIn.jobs">
                  <label class="col-md-3" translate="">
                    label.jobs
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let job of calendar.usedIn.jobs; let i = index">
                      {{i+1}} - {{job}}
                    </div>
                  </div>
                </div>
                <div class="row form-group" *ngIf="calendar.usedIn.orders">
                  <label class="col-md-3" translate="">
                    label.orders
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let order of calendar.usedIn.orders; let i = index">
                      {{i+1}} - {{order}}
                    </div>
                  </div>
                </div>
                <div class="row form-group" *ngIf="calendar.usedIn.schedules">
                  <label class="col-md-3" translate="">
                    label.schedules
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let schedule of calendar.usedIn.schedules; let i = index">
                      {{i+1}} - {{schedule}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="importCalendars && importCalendars.length>0">
          <div class="row form-group">
            <span translate class="text">message.importAllCalendar</span>
          </div>
          <div class="text-left row" *ngFor="let calendar of importCalendars;let x = index"
               [ngClass]="{'b-t p-t': x !=0}">
            <div class="row col-sm-12">
              <span class="col-md-3" translate="">label.calendar</span>
              <label class="col-md-9">{{calendar.path}}</label>
            </div>
            <div class=" col-sm-12">
              <div>
                <div class="row form-group" *ngIf="calendar.usedBy.jobs">
                  <label class="col-md-3" translate="">
                    label.jobs
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let job of calendar.usedBy.jobs; let i = index">
                      {{i+1}} - {{job}}
                    </div>
                  </div>
                </div>
                <div class="row form-group" *ngIf="calendar.usedBy.orders">
                  <label class="col-md-3" translate="">
                    label.orders
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let order of calendar.usedBy.orders; let i = index">
                      {{i+1}} - {{order}}
                    </div>
                  </div>
                </div>
                <div class="row form-group" *ngIf="calendar.usedBy.schedules">
                  <label class="col-md-3" translate="">
                    label.schedules
                  </label>
                  <div class="col-md-9">
                    <div *ngFor="let schedule of calendar.usedBy.schedules; let i = index">
                      {{i+1}} - {{schedule}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" *ngIf="!calendar" class="btn btn-danger btn-sm" (click)="activeModal.close()" translate>
    {{'button.delete' | translate}}
  </button>
  <button type="button" *ngIf="calendar" class="btn btn-primary btn-sm" (click)="activeModal.close()" translate>
    {{'button.confirm' | translate}}
  </button>
  <button type="button" class="btn btn-outline-dark btn-sm" (click)="activeModal.dismiss('Cross click')" translate>
    button.cancel
  </button>
</div>

