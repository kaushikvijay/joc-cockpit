<div class="app-header white box-shadow bg-blue-color" id="headerColor">
    <div class="navbar box-shadow-z0 p-l-0 p-r-20">
        <a data-toggle="collapse" data-target="#navbar1" class="navbar-item pull-right hide-menubar m-a-0 m-l">
            <i class="fa fa-navicon text-white"></i>
        </a>
        <!-- brand -->
        <a class="navbar-brand white fa-fa-color b-b-transparent p-l-3">
            <img class="cursor" (click)="coreService.about()" src="./assets/images/jobscheduler-logo.png" alt="JobScheduler">
        </a>
        <!-- / brand -->

        <!-- nabar right -->
        <ul class="nav navbar-nav pull-right ">
            <li class="nav-item dropdown">
                <a class="nav-link text-white" data-toggle="dropdown">
                  <span class="text-left p-l-xs">
                        <i class="fa fa-lg fa-question-circle-o" style="font-size: 20px;padding-top: 22px"></i>
                  </span>
                </a>
                <ul class="dropdown-menu pull-right dropdown-ac1">
                    <li><a class="dropdown-item first" (click)="coreService.about()">{{'button.aboutJobScheduler' | translate}}</a></li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" class="dropdown-item" href="">{{'button.featuresAndDownload' | translate}}</a>
                        <div class="dropdown-menu dropdown-ac1">
                            <a tabindex="-1" target="_blank" href="https://www.sos-berlin.com/jobscheduler" class="dropdown-item" >{{'button.jobSchedulerHome' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://www.sos-berlin.com/jobscheduler-downloads" class="dropdown-item" >{{'button.jobSchedulerDownload' | translate}}</a>
                        </div>
                    </li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" class="dropdown-item" href="">{{'button.announcements' | translate}}</a>
                        <div class="dropdown-menu dropdown-ac1">
                            <a tabindex="-1" target="_blank" href="https://twitter.com/job_scheduler" class="dropdown-item" >{{'button.followOnTwitter' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://www.sos-berlin.com/news" class="dropdown-item" >{{'button.jobSchedulerNews' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://kb.sos-berlin.com/x/s4BB" class="dropdown-item" >{{'button.jobSchedulerReleaseNotes' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://change.sos-berlin.com/" class="dropdown-item" >{{'button.changeManagementSystem' | translate}}</a>
                        </div>
                    </li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" class="dropdown-item" href="">{{'button.documentation' | translate}}</a>
                        <div class="dropdown-menu dropdown-ac1">
                            <a tabindex="-1" target="_blank" href="https://www.sos-berlin.com/doc/en/scheduler.doc/index.xml" class="dropdown-item" >{{'button.jobSchedulerReferenceDocumentation' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://kb.sos-berlin.com/x/fgKX" class="dropdown-item" >{{'button.jobSchedulerTutorials' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://kb.sos-berlin.com/x/lo74" class="dropdown-item" >{{'button.jocCockpitDocumentation' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://www.youtube.com/channel/UCBL98BrVLzJxk8t8TXRFjhA" class="dropdown-item" >{{'button.videosOnYouTube' | translate}}</a>
                        </div>
                    </li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" class="dropdown-item" href="">{{'button.discussion' | translate}}</a>
                        <div class="dropdown-menu dropdown-ac1">
                            <a tabindex="-1" target="_blank" href="https://kb.sos-berlin.com/x/LYBB" class="dropdown-item" >{{'button.jobSchedulerFAQ' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://sourceforge.net/p/jobscheduler/discussion/" class="dropdown-item" >{{'button.jobSchedulerForum' | translate}}</a>
                        </div>
                    </li>
                    <li class="dropdown-submenu">
                        <a tabindex="-1" class="dropdown-item" href="">{{'button.supportRequests' | translate}}</a>
                        <div class="dropdown-menu dropdown-ac1">
                            <a tabindex="-1" target="_blank" href="https://sourceforge.net/p/jobscheduler/_list/tickets" class="dropdown-item" >{{'button.openSourceUserTicketSystem' | translate}}</a>
                            <a tabindex="-1" target="_blank" href="https://support.sos-berlin.com/otrs/customer.pl?Lang=en" class="dropdown-item" >{{'button.customerTicketSystem' | translate}}</a>
                        </div>
                    </li>
                    <li><a class="dropdown-item" href="mailto:sales@sos-berlin.com" target="_top">{{'button.feedback' | translate}}</a></li>
                </ul>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link text-white" id ="shownotification" data-toggle="dropdown" (click)="updateAllEvent(allSessionEvent)">
                    <span class="text-left p-l-xs p-r-xs">
                       <span class="label label-sm up notification" *ngIf="allSessionEvent.eventUnReadCount>0">
                           {{allSessionEvent.eventUnReadCount}}
                       </span>
                        <i class="fa fa-lg fa-bell-o"></i>
                  </span>
                </a>
                <div class="dropdown-menu pull-right dropdown-ac" id="notification">
                <div class="scrollable" style="max-height: 300px;width: 680px ;margin-left: 0;padding-top:10px">
                    <div>
                        <div class="col-sm-6" *ngIf="!showEvent">
                            <h5 style="padding-top: 7px; margin-bottom: 0"><span translate>label.notifications </span></h5>
                        </div>
                        <div class="col-sm-6 cursor" (click)="collapseNotification()" *ngIf="showEvent">
                            <h5 style="padding-top: 7px; margin-bottom: 0"><i class=" fa fa-angle-left "></i>
                                <span translate>label.backToNotifications </span></h5>
                        </div>
                        <div class="col-sm-6 ">
                            <div class="btn-group m-l-sm pull-right" *ngIf="!showEvent">
                                <button class="btn btn-grey btn-sm btn-primary active"  (click)="makeAllGroupEventRead(allSessionEvent)"
                                          translate>button.markAllAsRead
                                </button>
                            </div>
                            <div class="btn-group m-l-sm pull-right" *ngIf="showEvent">
                                <button class="btn btn-grey btn-sm btn-primary active"  (click)="makeAllEventRead(allSessionEvent,showGroupEvent)" translate>button.markAllAsRead</button>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div style="max-height: 300px; overflow: auto">
                    <table class="table-hover" style="margin-left: 16px; margin-bottom: 12px; width: 94%">
                        <tbody>
                        <tr *ngFor="let group of allSessionEvent.group">
                            <td (click)="expandNotification(group)" class="cursor" [hidden]="showEvent">
                                <span>
                                    <span class="_600" *ngIf="group.readCount>9">{{group.readCount}}</span>
                                    <span class="_600" *ngIf="group.readCount<9">0{{group.readCount}}</span>
                                    <span translate>label.newEventsOn</span> <span class="text-black-dk">{{group.jobschedulerId}}</span>
                                    <span >{{group.objectType | translate}}:</span>
                                    <span class="text-primary">{{group.path}}</span>
                                    <span class="text-muted">{{group.eventId/1000}}</span>
                                </span>
                                <i class="cursor  fa fa-angle-right"></i>

                            </td>
                        </tr>
                        <tr class="_600" *ngIf="showEvent">
                            <td style="font-size: 14px;padding-bottom: 6px">
                                <span>{{showGroupEvent.objectType | translate}}</span>
                                {{showGroupEvent.path}}
                                <span class="_600">{{showGroupEvent.readCount}}</span>
                            </td>
                        </tr>
                        <tr *ngFor="let value of showGroupEvent.events" style="margin-top: 10px">
                            <td>
                                <span class="cursor p-l p-r _600" *ngIf="value.read==false" (click)="readEvent(showGroupEvent,value,allSessionEvent)">
                                    <span>{{value.objectType | translate}}:</span>
                                    <span class="text-primary">{{value.path}}</span>
                                    {{value.eventType | translate}}
                                    <span class="text-muted">{{(value.eventId/1000) | stringToDate}}</span>

                                </span>
                                <span class="p-l p-r" *ngIf="value.read==true">
                                    <span>{{value.objectType | translate}}:</span>
                                    <span class="text-primary">{{value.path}}</span>
                                    {{value.eventType | translate}}
                                    <span class="text-muted">{{(value.eventId/1000) | stringToDate}}</span>
                                </span>
                            </td>
                            <td>
                                <span class="p-r-sm">
                                    <i class="cursor fa fa-file-o" (click)="viewObject(showGroupEvent,value,allSessionEvent)" title="{{'tooltip.viewObject' | translate}}"></i>

                                </span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="text-center text m-t m-b h6 text-uppercase" *ngIf="!allSessionEvent.group || allSessionEvent.group.length==0" translate>
                    message.noNotificationFound
                </div>
            </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link text-white" data-toggle="dropdown">
                 <span class="avatar" id="avatarBg" [innerHtml]="username | slice:0:1"></span>
                  <span class="text-left p-l-sm">
                        <span class="_500 text-md" >{{username | decodeSpace}}</span>
                        <i class="fa fa-caret-down p-l-xs"></i>
                  </span>
                </a>
                <div class="dropdown-menu pull-right dropdown-ac">
                    <a class="dropdown-item" [ngClass]="{'disable-link':!schedulerIds.selected}" href="#/user">
                        <s class="fa fa-user"></s>
                        {{'button.profile' | translate}}
                    </a>
                    <a class="dropdown-item" *ngIf="permission && permission.JobschedulerMaster && permission.JobschedulerMaster.administration.editPermissions" href="#/users/account">
                        <s class="fa fa-users"></s>
                        {{'button.manageUser' | translate}}
                    </a>
                    <a class="dropdown-item" (click)="logout()">
                        <i class="fa fa-sign-out"></i>
                        {{'button.logOut' | translate}}
                    </a>
                </div>
            </li>
        </ul>

        <!-- navbar collapse -->
        <div class="collapse navbar-toggleable-custom" id="navbar1">
            <!-- link -->
            <ul class="nav navbar-nav navbar-nav-inline text-center pull-left nav-active-border b-orange">
                <li class="nav-item" [ngClass]="{'disable-link':!schedulerIds.selected}">
                    <a class="nav-link" routerLink="/dashboard" [routerLinkActive]="['active']">
                        <span class="nav-text">
                             <i class="fa fa-dashboard text-white" ></i>
                            <span  class="font11 text-white text-u-c _600" translate>label.dashboard</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item" *ngIf="permission.DailyPlan.view.status">
                    <a class="nav-link" routerLink="/daily_plan" [routerLinkActive]="['active']">
                        <span class="nav-text" id="dailyPlan_id">
                             <img src="./assets/images/daily_plan.png" width="15" height="16" alt="DP">
                            <span  class="font11 text-white text-u-c _600" translate>label.dailyPlan</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" routerLink="/workflow" [routerLinkActive]="['active']">
                        <span class="nav-text">
                          <svg width="16px" height="16px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <g id="hierarchical_ico" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                              <g transform="translate(4.000000, 4.000000)" fill="#fff" fill-rule="nonzero" id="Shape">
                                <path d="M26.5,11.875 L35.875,11.875 C36.375,11.875 36.875,11.5 36.875,10.875 L36.875,1.625 C36.875,1.125 36.5,0.625 35.875,0.625 L26.5,0.625 C26,0.625 25.5,1 25.5,1.625 L25.5,5.375 L20.125,5.375 C19.625,5.375 19.125,5.75 19.125,6.375 L19.125,19.125 L14.375,19.125 L14.375,15.375 C14.375,14.875 14,14.375 13.375,14.375 L4.125,14.375 C3.625,14.375 3.125,14.75 3.125,15.375 L3.125,24.75 C3.125,25.25 3.5,25.75 4.125,25.75 L13.5,25.75 C14,25.75 14.5,25.375 14.5,24.75 L14.5,21 L19.25,21 L19.25,33.75 C19.25,34.25 19.625,34.75 20.25,34.75 L25.625,34.75 L25.625,38.5 C25.625,39 26,39.5 26.625,39.5 L36,39.5 C36.5,39.5 37,39.125 37,38.5 L37,29.125 C37,28.625 36.625,28.125 36,28.125 L26.625,28.125 C26.125,28.125 25.625,28.5 25.625,29.125 L25.625,32.875 L21.25,32.875 L21.25,7.25 L25.625,7.25 L25.625,11 C25.5,11.5 26,11.875 26.5,11.875 Z"></path>
                              </g>
                            </g>
                          </svg>
                          <span class="font11 text-white text-u-c _600" translate>label.workflows</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item" *ngIf="permission.Job.view.status">
                    <a class="nav-link" routerLink="/job" [routerLinkActive]="['active']">
                        <span class="nav-text">
                            <i class="fa fa-tasks text-white"></i>
                            <span class="font11 text-white text-u-c _600" translate>label.jobs</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item" *ngIf="permission.YADE.view.status">
                    <a class="nav-link" routerLink="/file_transfer" [routerLinkActive]="['active']">
                        <span class="nav-text">
                            <i class="fa fa-exchange text-white"></i>
                            <span class="font11 text-white text-u-c _600" translate>label.fileTransfers</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item" *ngIf="permission.JobschedulerUniversalAgent.view.status || permission.ProcessClass.view.status ||
                    permission.Lock.view.status  || permission.Calendar.view.status || permission.Documentation.view">
                    <a class="nav-link" routerLink="/resources" [routerLinkActive]="['active']" (click)="navigateToResource()">
                        <span class="nav-text">
                            <img src="./assets/images/resources.png" height="16" alt="R">
                            <i class="fa fa-links text-white"></i>
                            <span class="font11 text-white text-u-c _600" translate>label.resources</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item" *ngIf="permission.History.view.status || permission.YADE.view.status">
                    <a class="nav-link" routerLink="/history" [routerLinkActive]="['active']">
                        <span class="nav-text">
                            <i class="fa fa-history text-white"></i>
                            <span class="font11 text-white text-u-c _600" translate>label.history</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item" *ngIf="permission.AuditLog.view.status">
                    <a class="nav-link" routerLink="/audit_log" [routerLinkActive]="['active']">
                        <span class="nav-text">
                            <i class="fa fa-file-text-o text-white"></i>
                            <span class="font11 text-white text-u-c _600" translate>label.auditLog</span>
                        </span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" routerLink="/configuration" [routerLinkActive]="['active']" (click)="navigateToConfiguration()">
                        <span class="nav-text" >
                            <svg width="16px" height="16px" viewBox="0 0 48 48" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                <g id="configs_ico" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                    <g transform="translate(2.000000, 2.000000)" fill="#fff" fill-rule="nonzero" id="Group">
                                        <g transform="translate(0.000000, 1.833333)">
                                            <path d="M42.8266957,26.0836538 L41.323349,25.8728383 C41.1491801,25.2770945 40.9016622,24.6994781 40.6083221,24.1496124 L41.5249888,22.9303741 C41.9283243,22.3895721 41.8733266,21.6196035 41.396698,21.1429189 L40.049169,19.8046214 C39.58166,19.3371124 38.7933401,19.2820587 38.2708334,19.6761627 L37.1707663,20.5033112 C36.9512788,22.0143789 35.7615815,23.2444712 34.2195741,23.4545034 L32.539317,23.6926219 C32.5235394,23.7376048 32.500992,23.7794546 32.4848228,23.8242137 C32.5954338,23.816157 32.7044781,23.8011627 32.8166557,23.8011627 C35.337489,23.8011627 37.399989,25.8544871 37.399989,28.3844961 C37.399989,30.9145051 35.337489,32.9678294 32.8166557,32.9678294 C32.2320457,32.9678294 31.6618705,32.8491059 31.1316988,32.6350454 L30.4007265,33.3659617 C29.7472434,34.0095978 28.8511659,34.3721467 27.9327089,34.3721467 C27.177175,34.3721467 26.4359641,34.1259715 25.8442487,33.6792756 L24.8119914,32.9029287 L24.1083221,33.8387298 C23.7049866,34.3795318 23.7600403,35.1496124 24.2366689,35.6261851 L25.5750224,36.9645945 C26.0425313,37.4321035 26.8308512,37.4870453 27.3533579,37.0928294 L28.5816599,36.1761627 C29.1316934,36.4787343 29.7000223,36.7170766 30.3049977,36.8911896 L30.5158691,38.3945363 C30.6075134,39.0636851 31.1941934,39.5678965 31.8633422,39.5678965 L33.7608489,39.5678965 C34.4391733,39.5678965 35.0166778,39.0636851 35.1083221,38.3945363 L35.3283691,36.8911896 C35.9241689,36.7170766 36.5016734,36.4787343 37.0517069,36.1761627 L38.2708333,37.0928294 C38.5091756,37.2670543 38.79334,37.3678741 39.08668,37.3678741 C39.4533691,37.3678741 39.7925313,37.221288 40.0491689,36.9645945 L41.3966979,35.6171214 C41.8733265,35.1404368 41.9192046,34.3795318 41.5158691,33.8387298 L40.6083221,32.6196034 C40.9016621,32.0695138 41.14918,31.4921213 41.3233489,30.8961537 L42.8266956,30.6853382 C43.4958445,30.5845184 44,30.0070139 44,29.3286896 L44,27.4403025 C44,26.7619782 43.4958445,26.1845855 42.8266957,26.0836538 Z" id="Shape"></path>
                                            <path d="M26.9500224,32.216212 C27.5917002,32.7020721 28.5358378,32.6287791 29.1041667,32.0695139 L31.2950134,29.8787791 C31.8725179,29.3011626 31.9366912,28.3753204 31.450831,27.7245228 L29.7274932,25.4236805 C30.3508199,24.3604278 30.8183287,23.2237701 31.1300201,22.0412342 L33.9716644,21.6379546 C34.7783355,21.5278472 35.3833669,20.821996 35.3833669,20.0062611 L35.3833669,16.9078113 C35.3833669,16.0920765 34.7783355,15.3954009 33.9716644,15.2762297 L31.1300201,14.8728382 C30.8183288,13.6903024 30.3508199,12.5628203 29.7274932,11.4903919 L31.450831,9.19872525 C31.9366912,8.54792776 31.8725179,7.62208544 31.2950134,7.04446903 L29.1041667,4.85373432 C28.5450134,4.29446921 27.5917002,4.22128804 26.9500224,4.69786075 L24.6583557,6.42119858 C23.5858714,5.8071035 22.4583333,5.33041887 21.2758535,5.01867172 L20.872518,2.18620307 C20.7533468,1.37953191 20.0566713,0.765436833 19.2408244,0.765436833 L16.1424866,0.765436833 C15.3266958,0.765436833 14.6300202,1.37035626 14.510849,2.17702742 L14.1075135,5.01867172 C12.9250336,5.33041896 11.7883199,5.8071035 10.7250113,6.42119858 L8.42416887,4.69786075 C7.78249102,4.22128804 6.8383535,4.29446921 6.27920022,4.85373432 L4.0883535,7.04446921 C3.51084901,7.62208563 3.44667565,8.54792785 3.93253584,9.19872543 L5.65587367,11.4903921 C5.03249111,12.5628205 4.56503813,13.6903025 4.25334681,14.8728384 L1.41170251,15.2854055 C0.60503135,15.395401 0,16.1012522 0,16.9078115 L0,20.0062613 C0,20.8219962 0.60503135,21.5278474 1.41170251,21.6379548 L4.25334681,22.0412344 C4.56503813,23.2237703 5.03249111,24.3604279 5.65587367,25.4236807 L3.93253584,27.724523 C3.44667565,28.3753205 3.51084901,29.3011628 4.0883535,29.8787792 L6.27920022,32.0695141 C6.8383535,32.6287791 7.79166667,32.7020721 8.42416887,32.216212 L10.7250112,30.4928741 C11.7883199,31.1161448 12.9250336,31.5836537 14.1075134,31.9045766 L14.5108489,34.7370453 C14.6300201,35.5437164 15.3266956,36.1486359 16.1424865,36.1486359 L19.2408244,36.1486359 C20.0566711,36.1486359 20.7533467,35.5437164 20.8725179,34.7370453 L21.2758534,31.9045766 C22.4583332,31.5836537 23.5858713,31.1161449 24.6583556,30.4928741 L26.9500224,32.216212 Z M17.6916555,27.2020721 C12.8700358,27.2020721 8.94667565,23.278712 8.94667565,18.4570363 C8.94667565,13.6353607 12.8700358,9.71211239 17.6916555,9.71211239 C22.5133311,9.71211239 26.4366913,13.6353607 26.4366913,18.4570363 C26.4366913,23.278712 22.5133311,27.2020721 17.6916555,27.2020721 Z" id="Shape"></path>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                            <span class="font11 text-white text-u-c _600" translate>label.configuration</span>
                        </span>
                    </a>
                </li>
            </ul>
            <!-- end link -->
        </div>
        <!-- / navbar collapse -->
    </div>
</div>
