(function(){function createShiftArr(step){var space='    ';if(isNaN(parseInt(step))){space=step}else{switch(step){case 1:space=' ';break;case 2:space='  ';break;case 3:space='   ';break;case 4:space='    ';break;case 5:space='     ';break;case 6:space='      ';break;case 7:space='       ';break;case 8:space='        ';break;case 9:space='         ';break;case 10:space='          ';break;case 11:space='           ';break;case 12:space='            ';break}}
    var shift=['\n'];for(ix=0;ix<100;ix++){shift.push(shift[ix]+space)}
    return shift}
    function vkbeautify(){this.step='\t';this.shift=createShiftArr(this.step)};vkbeautify.prototype.xml=function(text,step){var ar=text.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split('~::~'),len=ar.length,inComment=!1,deep=0,str='',ix=0,shift=step?createShiftArr(step):this.shift;for(ix=0;ix<len;ix++){if(ar[ix].search(/<!/)>-1){str+=shift[deep]+ar[ix];inComment=!0;if(ar[ix].search(/-->/)>-1||ar[ix].search(/\]>/)>-1||ar[ix].search(/!DOCTYPE/)>-1){inComment=!1}}else if(ar[ix].search(/-->/)>-1||ar[ix].search(/\]>/)>-1){str+=ar[ix];inComment=!1}else if(/^<\w/.exec(ar[ix-1])&&/^<\/\w/.exec(ar[ix])&&/^<[\w:\-\.\,]+/.exec(ar[ix-1])==/^<\/[\w:\-\.\,]+/.exec(ar[ix])[0].replace('/','')){str+=ar[ix];if(!inComment)deep--}else if(ar[ix].search(/<\w/)>-1&&ar[ix].search(/<\//)==-1&&ar[ix].search(/\/>/)==-1){str=!inComment?str+=shift[deep++]+ar[ix]:str+=ar[ix]}else if(ar[ix].search(/<\w/)>-1&&ar[ix].search(/<\//)>-1){str=!inComment?str+=shift[deep]+ar[ix]:str+=ar[ix]}else if(ar[ix].search(/<\//)>-1){str=!inComment?str+=shift[--deep]+ar[ix]:str+=ar[ix]}else if(ar[ix].search(/\/>/)>-1){str=!inComment?str+=shift[deep]+ar[ix]:str+=ar[ix]}else if(ar[ix].search(/<\?/)>-1){str+=shift[deep]+ar[ix]}else if(ar[ix].search(/xmlns\:/)>-1||ar[ix].search(/xmlns\=/)>-1){str+=shift[deep]+ar[ix]}else{str+=ar[ix]}}
        let a=(str[0]=='\n')?str.slice(1):str;let arr=a.split('\n');let _tempXml;for(let i=0;i<arr.length;i++){let flag=!1;if(/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.test(arr[i])){flag=!0;if(/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.exec(arr[i])[1]){console.log('inside if',/<!\[CDATA\[.*|(\s|\w|\n|\r)*\]\]>/g.exec(arr[i]))
            _tempXml=_tempXml+'\n'+arr[i]}else{if(arr[i]==="]]>"){_tempXml=_tempXml+'\n'+arr[i]}else{_tempXml=_tempXml+arr[i].replace(/^[\s\uFEFF\xA0]+/g,'')}}}
            if(!flag){let flg=!1;if(i>0&&/]]>/g.test(arr[i-1])){_tempXml=_tempXml+arr[i].replace(/^[\s\uFEFF\xA0]+/g,'');flg=!0}
                if(!flg){if(_tempXml){_tempXml=_tempXml+'\n'+arr[i]}else{_tempXml=arr[i]}}}}
        return _tempXml}
    vkbeautify.prototype.xmlmin=function(text,preserveComments){var str=preserveComments?text:text.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g,' xmlns');return str.replace(/>\s{0,}</g,"><")}
    window.vkbeautify=new vkbeautify()})()
